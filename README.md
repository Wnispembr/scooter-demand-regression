Прогноз спроса на поездки самокатов по погоде
Проект решает задачу прогнозирования почасового спроса на поездки самокатов по данным о фактических поездках и погодных условиях. На выходе получаем модель линейной регрессии, которая по погоде и временным признакам оценивает количество поездок в час.​

Структура репозитория
weather_preprocessing.ipynb — загрузка и очистка исходных погодных данных, проверка выбросов и пропусков, приведение формата даты‑времени, сохранение подготовленного файла data/weather_processed.csv.​

rides_preprocessing.ipynb — предобработка логов поездок: парсинг дат, расчет продолжительности, агрегация до почасового спроса, объединение с погодой и генерация признаков (час, день недели, выходной, промо, дождь и лаги спроса).​

Regression-modeling.ipynb — построение регрессионной модели: разбиение на train/valid/test, подготовка числовых и категориальных признаков, обучение LinearRegression в пайплайне, оценка качества (RMSE, R²), анализ важности признаков и сохранение модели models/scooter_demand_model.pkl.​

calculations-and-research.ipynb — исследовательский анализ данных (EDA), проверка стат. гипотез и вспомогательные расчеты для обоснования выбора признаков и подхода к моделированию.​

Данные
Используются две основные таблицы:​

Поездки (data/rides_calc.csv)

Идентификатор поездки, start/end datetime
Локации и районы старта/финиша
Дистанция, длительность, наличие промо‑акции
Стоимость поездки
Добавленный признак hour — время, округленное до часа начала поездки
Погода (data/weather_processed.csv)

datetime (часовой тайм‑штамп)
Температура
Суммарные осадки за час
Порывы и средняя скорость ветра
Общая облачность
Длительность солнечного сияния
После объединения формируется почасовой датасет с целевой переменной demand — количеством поездок в час.​

Предобработка и генерация признаков
Основные шаги:​

Очистка дубликатов и аномальных значений в погодных данных

Приведение дат к типу datetime и выравнивание до часа

Агрегация поездок по часу (demand) и merge с погодой по полю hour

Создание календарных признаков:

hourofday (0–23)
dayofweek (0–6)
isweekend (будний/выходной)
ispromo (промо-акции в утренний час-пик)
israin (есть ли осадки)
Временные лаги и сглаживание:

demand_lag_1h, demand_lag_24h
demand_mean_24h (скользящее среднее за сутки)
Модель
Для моделирования используется линейная регрессия в составе sklearn‑пайплайна:​

Числовые признаки:

temperature, precipitation_total, windspeed, cloudcover_total, sunshine_duration
demand_lag_1h, demand_lag_24h, demand_mean_24h
Категориальные признаки (one‑hot encoding c drop='first'):

hourofday, dayofweek, isweekend, ispromo, israin
Качество (пример):

Valid RMSE ≈ 13
Valid R² ≈ 0.84
Test RMSE ≈ 13.5
Test R² ≈ 0.85
Анализ коэффициентов показывает, что на спрос сильнее всего влияют время суток (вечерний и дневной часы), промо‑акции и факт выходного дня, а также недавние значения спроса (лаги).​
